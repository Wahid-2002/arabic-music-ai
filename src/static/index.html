<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arabic Music AI Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üéµ Arabic Music AI Generator</h1>
            <nav class="tabs">
                <button class="tab-btn active" data-tab="dashboard">üìä Dashboard</button>
                <button class="tab-btn" data-tab="upload">üì§ Upload Songs</button>
                <button class="tab-btn" data-tab="train">üß† Train Model</button>
                <button class="tab-btn" data-tab="generate">üéº Generate Music</button>
            </nav>
        </header>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üéµ</div>
                    <div class="stat-number" id="songs-count">0</div>
                    <div class="stat-label">Songs Uploaded</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üéØ</div>
                    <div class="stat-number" id="training-status">Not Started</div>
                    <div class="stat-label">Training Status</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üìà</div>
                    <div class="stat-number" id="model-accuracy">0%</div>
                    <div class="stat-label">Model Accuracy</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üéº</div>
                    <div class="stat-number" id="generated-count">0</div>
                    <div class="stat-label">Songs Generated</div>
                </div>
            </div>

            <div class="activity-section">
                <h2>Recent Activity</h2>
                <div class="activity-item">
                    <div class="activity-icon">‚ÑπÔ∏è</div>
                    <div class="activity-text">Welcome to Arabic Music AI Generator! Start by uploading some songs</div>
                    <div class="activity-time">Start by uploading some songs</div>
                </div>
            </div>
        </div>

               <!-- Upload Tab -->
        <div id="upload" class="tab-content">
            <div class="upload-section">
                <h2>Upload New Song</h2>
                
                <!-- File Upload Area -->
                <div class="file-upload-area" id="file-upload-area">
                    <div class="upload-icon">üìÅ</div>
                    <p>Drag and drop your audio file here, or click to browse</p>
                    <input type="file" id="audio-file" accept=".mp3,.wav,.flac,.m4a" style="display: none;">
                    <button type="button" class="browse-btn" onclick="document.getElementById('audio-file').click()">Browse Files</button>
                </div>
                
                <!-- File Selected Display -->
                <div id="file-selected" class="file-selected" style="display: none;">
                    <div class="file-info">
                        <span class="file-name" id="selected-file-name"></span>
                        <span class="file-size" id="selected-file-size"></span>
                        <button type="button" class="remove-file" onclick="removeSelectedFile()">‚úï</button>
                    </div>
                </div>

                <form id="upload-form" enctype="multipart/form-data">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="title">Song Title *</label>
                            <input type="text" id="title" name="title" required>
                        </div>
                        <div class="form-group">
                            <label for="artist">Artist *</label>
                            <input type="text" id="artist" name="artist" required>
                        </div>
                        <div class="form-group full-width">
                            <label for="lyrics">Arabic Lyrics *</label>
                            <textarea id="lyrics" name="lyrics" rows="4" placeholder="Enter Arabic lyrics here..." required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="maqam">Maqam *</label>
                            <select id="maqam" name="maqam" required>
                                <option value="">Select Maqam</option>
                                <option value="Unknown">Unknown</option>
                                <option value="Hijaz">Hijaz</option>
                                <option value="Bayati">Bayati</option>
                                <option value="Saba">Saba</option>
                                <option value="Rast">Rast</option>
                                <option value="Kurd">Kurd</option>
                                <option value="Nahawand">Nahawand</option>
                                <option value="Ajam">Ajam</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="style">Style *</label>
                            <select id="style" name="style" required>
                                <option value="">Select Style</option>
                                <option value="Classical">Classical</option>
                                <option value="Folk">Folk</option>
                                <option value="Modern">Modern</option>
                                <option value="Traditional">Traditional</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="tempo">Tempo (BPM) *</label>
                            <input type="number" id="tempo" name="tempo" min="60" max="180" value="120" required>
                        </div>
                        <div class="form-group">
                            <label for="emotion">Emotion *</label>
                            <select id="emotion" name="emotion" required>
                                <option value="">Select Emotion</option>
                                <option value="Happy">Happy</option>
                                <option value="Sad">Sad</option>
                                <option value="Romantic">Romantic</option>
                                <option value="Dramatic">Dramatic</option>
                                <option value="Melancholic">Melancholic</option>
                                <option value="Energetic">Energetic</option>
                                <option value="Peaceful">Peaceful</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="region">Region *</label>
                            <select id="region" name="region" required>
                                <option value="">Select Region</option>
                                <option value="Egyptian">Egyptian</option>
                                <option value="Lebanese">Lebanese</option>
                                <option value="Syrian">Syrian</option>
                                <option value="Iraqi">Iraqi</option>
                                <option value="Moroccan">Moroccan</option>
                                <option value="Tunisian">Tunisian</option>
                                <option value="Gulf">Gulf</option>
                                <option value="Sudan">Sudan</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="composer">Composer</label>
                            <input type="text" id="composer" name="composer">
                        </div>
                        <div class="form-group">
                            <label for="poem_bahr">Poem Bahr</label>
                            <select id="poem_bahr" name="poem_bahr">
                                <option value="">Select Bahr</option>
                                <option value="Baseet">Baseet</option>
                                <option value="Kamel">Kamel</option>
                                <option value="Wafer">Wafer</option>
                                <option value="Taweel">Taweel</option>
                                <option value="Motaqareb">Motaqareb</option>
                                <option value="Motadarak">Motadarak</option>
                                <option value="Hazj">Hazj</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="upload-btn" id="upload-btn" disabled>Upload Song</button>
                </form>
            </div>

                        <div class="songs-list">
                <h2>Uploaded Songs</h2>
                <div class="songs-filter" style="margin-bottom: 20px;">
                    <input type="text" id="search-songs" placeholder="Search songs..." style="padding: 10px; border: 2px solid #e1e5e9; border-radius: 8px; width: 300px;">
                    <select id="filter-maqam" style="padding: 10px; border: 2px solid #e1e5e9; border-radius: 8px; margin-left: 10px;">
                        <option value="">All Maqams</option>
                        <option value="Unknown">Unknown</option>
                        <option value="Hijaz">Hijaz</option>
                        <option value="Bayati">Bayati</option>
                        <option value="Saba">Saba</option>
                        <option value="Rast">Rast</option>
                        <option value="Kurd">Kurd</option>
                        <option value="Nahawand">Nahawand</option>
                        <option value="Ajam">Ajam</option>
                    </select>
                </div>
                <div id="songs-container">
                    <p>Loading songs...</p>
                </div>
            </div>
        </div>

        <!-- Edit Song Modal -->
        <div id="edit-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Edit Song</h2>
                    <span class="close" onclick="closeEditModal()">&times;</span>
                </div>
                <form id="edit-form">
                    <input type="hidden" id="edit-song-id">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="edit-title">Song Title *</label>
                            <input type="text" id="edit-title" name="title" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-artist">Artist *</label>
                            <input type="text" id="edit-artist" name="artist" required>
                        </div>
                        <div class="form-group full-width">
                            <label for="edit-lyrics">Arabic Lyrics *</label>
                            <textarea id="edit-lyrics" name="lyrics" rows="4" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="edit-maqam">Maqam *</label>
                            <select id="edit-maqam" name="maqam" required>
                                <option value="">Select Maqam</option>
                                <option value="Unknown">Unknown</option>
                                <option value="Hijaz">Hijaz</option>
                                <option value="Bayati">Bayati</option>
                                <option value="Saba">Saba</option>
                                <option value="Rast">Rast</option>
                                <option value="Kurd">Kurd</option>
                                <option value="Nahawand">Nahawand</option>
                                <option value="Ajam">Ajam</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="edit-style">Style *</label>
                            <select id="edit-style" name="style" required>
                                <option value="">Select Style</option>
                                <option value="Classical">Classical</option>
                                <option value="Folk">Folk</option>
                                <option value="Modern">Modern</option>
                                <option value="Traditional">Traditional</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="edit-tempo">Tempo (BPM) *</label>
                            <input type="number" id="edit-tempo" name="tempo" min="60" max="180" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-emotion">Emotion *</label>
                            <select id="edit-emotion" name="emotion" required>
                                <option value="">Select Emotion</option>
                                <option value="Happy">Happy</option>
                                <option value="Sad">Sad</option>
                                <option value="Romantic">Romantic</option>
                                <option value="Dramatic">Dramatic</option>
                                <option value="Melancholic">Melancholic</option>
                                <option value="Energetic">Energetic</option>
                                <option value="Peaceful">Peaceful</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="edit-region">Region *</label>
                            <select id="edit-region" name="region" required>
                                <option value="">Select Region</option>
                                <option value="Egyptian">Egyptian</option>
                                <option value="Lebanese">Lebanese</option>
                                <option value="Syrian">Syrian</option>
                                <option value="Iraqi">Iraqi</option>
                                <option value="Moroccan">Moroccan</option>
                                <option value="Tunisian">Tunisian</option>
                                <option value="Gulf">Gulf</option>
                                <option value="Sudan">Sudan</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="edit-composer">Composer</label>
                            <input type="text" id="edit-composer" name="composer">
                        </div>
                        <div class="form-group">
                            <label for="edit-poem-bahr">Poem Bahr</label>
                            <select id="edit-poem-bahr" name="poem_bahr">
                                <option value="">Select Bahr</option>
                                <option value="Baseet">Baseet</option>
                                <option value="Kamel">Kamel</option>
                                <option value="Wafer">Wafer</option>
                                <option value="Taweel">Taweel</option>
                                <option value="Motaqareb">Motaqareb</option>
                                <option value="Motadarak">Motadarak</option>
                                <option value="Hazj">Hazj</option>
                            </select>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button type="button" onclick="closeEditModal()" class="cancel-btn">Cancel</button>
                        <button type="submit" class="save-btn">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>



               <!-- Train Tab -->
        <div id="train" class="tab-content">
            <div class="training-container">
                <h2>üß† AI Model Training</h2>
                
                <!-- Training Prerequisites -->
                <div class="training-section">
                    <h3>Training Prerequisites</h3>
                    <div class="prerequisites-grid">
                        <div class="prereq-item" id="songs-prereq">
                            <div class="prereq-icon">üéµ</div>
                            <div class="prereq-text">
                                <strong>Songs Uploaded</strong>
                                <span id="prereq-songs-count">0</span>
                                <small>Minimum: 10 songs recommended</small>
                            </div>
                            <div class="prereq-status" id="songs-status">‚ùå</div>
                        </div>
                        <div class="prereq-item" id="lyrics-prereq">
                            <div class="prereq-icon">üìù</div>
                            <div class="prereq-text">
                                <strong>Arabic Lyrics</strong>
                                <span id="prereq-lyrics-count">0</span>
                                <small>All songs must have lyrics</small>
                            </div>
                            <div class="prereq-status" id="lyrics-status">‚ùå</div>
                        </div>
                        <div class="prereq-item" id="metadata-prereq">
                            <div class="prereq-icon">üè∑Ô∏è</div>
                            <div class="prereq-text">
                                <strong>Complete Metadata</strong>
                                <span id="prereq-metadata-count">0</span>
                                <small>Maqam, style, emotion, etc.</small>
                            </div>
                            <div class="prereq-status" id="metadata-status">‚ùå</div>
                        </div>
                    </div>
                </div>

                <!-- Training Configuration -->
                <div class="training-section">
                    <h3>Training Configuration</h3>
                    <div class="training-config">
                        <div class="config-group">
                            <label for="training-epochs">Training Epochs</label>
                            <select id="training-epochs">
                                <option value="10">10 (Quick - 30 minutes)</option>
                                <option value="25" selected>25 (Balanced - 1 hour)</option>
                                <option value="50">50 (Thorough - 2 hours)</option>
                                <option value="100">100 (Intensive - 4 hours)</option>
                            </select>
                        </div>
                        <div class="config-group">
                            <label for="learning-rate">Learning Rate</label>
                            <select id="learning-rate">
                                <option value="0.001">0.001 (Conservative)</option>
                                <option value="0.01" selected>0.01 (Balanced)</option>
                                <option value="0.1">0.1 (Aggressive)</option>
                            </select>
                        </div>
                        <div class="config-group">
                            <label for="batch-size">Batch Size</label>
                            <select id="batch-size">
                                <option value="4">4 (Small dataset)</option>
                                <option value="8" selected>8 (Medium dataset)</option>
                                <option value="16">16 (Large dataset)</option>
                            </select>
                        </div>
                        <div class="config-group">
                            <label for="focus-area">Training Focus</label>
                            <select id="focus-area">
                                <option value="melody">Melody Generation</option>
                                <option value="rhythm">Rhythm Patterns</option>
                                <option value="harmony">Harmonic Structure</option>
                                <option value="balanced" selected>Balanced (All aspects)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Training Status -->
                <div class="training-section">
                    <h3>Training Status</h3>
                    <div class="training-status-card" id="training-status-card">
                        <div class="status-header">
                            <div class="status-icon" id="status-icon">‚è∏Ô∏è</div>
                            <div class="status-text">
                                <h4 id="status-title">Ready to Train</h4>
                                <p id="status-description">Configure settings and start training when ready</p>
                            </div>
                        </div>
                        <div class="progress-container" id="progress-container" style="display: none;">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress-fill"></div>
                            </div>
                            <div class="progress-text">
                                <span id="progress-percentage">0%</span>
                                <span id="progress-eta">ETA: --</span>
                            </div>
                        </div>
                        <div class="training-metrics" id="training-metrics" style="display: none;">
                            <div class="metric">
                                <label>Current Epoch:</label>
                                <span id="current-epoch">0</span>
                            </div>
                            <div class="metric">
                                <label>Loss:</label>
                                <span id="current-loss">--</span>
                            </div>
                            <div class="metric">
                                <label>Accuracy:</label>
                                <span id="current-accuracy">--</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Training Actions -->
                <div class="training-actions">
                    <button id="start-training-btn" class="training-btn start-btn" onclick="startTraining()" disabled>
                        üöÄ Start Training
                    </button>
                    <button id="stop-training-btn" class="training-btn stop-btn" onclick="stopTraining()" style="display: none;">
                        ‚èπÔ∏è Stop Training
                    </button>
                    <button id="reset-model-btn" class="training-btn reset-btn" onclick="resetModel()">
                        üîÑ Reset Model
                    </button>
                </div>

                <!-- Training History -->
                <div class="training-section">
                    <h3>Training History</h3>
                    <div class="training-history" id="training-history">
                        <p>No training sessions yet.</p>
                    </div>
                </div>
            </div>
        </div>


        <!-- Generate Tab -->
        <div id="generate" class="tab-content">
            <h2>Generate New Song</h2>
            <div class="generate-form">
                <label for="generate-lyrics">Input Lyrics/Poem *</label>
                <textarea id="generate-lyrics" rows="6" placeholder="Enter Arabic lyrics or poem here..."></textarea>
                <button class="generate-btn">Generate Music</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
